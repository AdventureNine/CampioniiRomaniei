<RebusCell>:
    size_hint: None, None
    size: 40, 40
    font_size: '20sp'
    multiline: False
    halign: 'center'
    background_normal: ''
    cursor_color: 0, 0, 0, 1
    padding_y: [self.height / 2.0 - (self.line_height / 2.0), 0]
    canvas.after:
        Color:
            rgba: 0.2, 0.2, 0.2, 1
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height

<RebusScreen>:
    game_container: game_container

    canvas.before:
        Color:
            rgba: 0.98, 0.98, 0.95, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 15

        BoxLayout:
            size_hint_y: None
            height: 80
            canvas.before:
                Color:
                    rgba: 0.15, 0.45, 0.75, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [10]

            Label:
                text: "REBUS DIDACTIC"
                font_size: '32sp'
                bold: True
                color: 1, 1, 1, 1

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True

            BoxLayout:
                id: game_container
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: 5
                padding: 10

        BoxLayout:
            size_hint_y: None
            height: 70
            spacing: 20
            padding: [100, 0]

            Button:
                text: "AUTO"
                size_hint_x: None
                width: 80
                background_normal: ''
                background_color: 0.5, 0.5, 0.5, 1
                font_size: '14sp'
                bold: True
                canvas.before:
                    Color:
                        rgba: self.background_color
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [8]
                on_release: root.auto_fill()

            Button:
                text: "ȘTERGE"
                size_hint_x: None
                width: 100
                background_normal: ''
                background_color: 0.7, 0.3, 0.3, 1
                font_size: '14sp'
                bold: True
                canvas.before:
                    Color:
                        rgba: self.background_color
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [8]
                on_release: root.clear_rebus()

            Button:
                text: "RESETEAZĂ" if root.is_checked else "VERIFICĂ"
                size_hint_x: 0.3
                background_normal: ''
                background_color: (0.6, 0.4, 0.2, 1) if root.is_checked else (0.2, 0.6, 0.3, 1)
                font_size: '18sp'
                bold: True
                canvas.before:
                    Color:
                        rgba: self.background_color
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [8]
                on_release: root.toggle_check()

            Button:
                text: "REBUS NOU"
                size_hint_x: 0.3
                background_normal: ''
                background_color: 0.15, 0.45, 0.75, 1
                font_size: '18sp'
                bold: True
                canvas.before:
                    Color:
                        rgba: self.background_color
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [8]
                on_release: root.generate_rebus()