<BingoCell>:
    size_hint: None, None
    size: 90, 90
    font_size: '14sp'
    halign: 'center'
    valign: 'middle'
    text_size: self.size
    background_normal: ''
    color: [0, 0, 0, 1] if self.background_color == [1, 1, 1, 1] else [1, 1, 1, 1]
    disabled_color: [0, 0, 0, 1] if self.background_color == [1, 1, 1, 1] else [1, 1, 1, 1]
    background_disabled_normal: ''
    canvas.before:
        Color:
            rgba: self.background_color
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [8]

<BingoScreen>:
    game_container: game_container

    Image:
        source: root.bg_image
        fit_mode: "cover"
        size_hint: 1, 1
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

    Widget:
        canvas:
            Color:
                rgba: 0, 0, 0, 0.5
            Rectangle:
                pos: self.pos
                size: self.size

    FloatLayout:
        StandardHeader:
            title: "BIONGO EDUCATIV"
            header_color: root.primary_color
            pos_hint: {'top': 1}
            back_screen: 'region_dashboard'

        BoxLayout:
            orientation: 'vertical'
            size_hint: 0.95, 0.85
            pos_hint: {'center_x': 0.5, 'y': 0.02}
            padding: 20
            spacing: 15

            # Zona de joc
            BoxLayout:
                padding: 20
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 0.35
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [14]

                AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'center'
                    BoxLayout:
                        id: game_container
                        orientation: 'vertical'
                        size_hint: None, None
                        size: self.minimum_size

            # Footer cu butoane de control
            BoxLayout:
                size_hint_y: None
                height: 80
                spacing: 20
                padding: [100, 10]

                ImageButton:
                    source: image_path("buttons/btn_delete.png")
                    disabled: root.is_wrong or root.is_completed
                    opacity: 1 if not (root.is_wrong or root.is_completed) else 0.5
                    on_release: root.clear_bingo()

                ImageButton:
                    source: 'backend/domain/assets/images/buttons/btn_check.png'
                    disabled: root.is_wrong or root.is_completed
                    opacity: 1 if not (root.is_wrong or root.is_completed) else 0.5
                    on_release: root.check_solution()

                ImageButton:
                    source: 'backend/domain/assets/images/buttons/btn_new_game.png'
                    on_release: root.generate_bingo()

                ImageButton:
                    source: 'backend/domain/assets/images/buttons/btn_finish.png'
                    disabled: not root.is_completed
                    opacity: 1 if root.is_completed else 0.5
                    on_release: root.go_next()