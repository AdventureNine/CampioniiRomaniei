#:include kv/style.kv

<RandStatistica@MDBoxLayout>:
    titlu: ""
    valoare: ""
    orientation: "horizontal"
    size_hint_y: None
    height: "50dp"
    padding: "20dp", 0

    MDLabel:
        text: root.titlu
        font_name: "assets/RAVIE.TTF"
        font_size: "20sp"
        theme_text_color: "Custom"
        text_color: 1, 1, 1, 0.8
        halign: "left"
        valign: "center"

    MDLabel:
        id: val_label
        text: root.valoare
        font_name: "assets/RAVIE.TTF"
        font_size: "22sp"
        theme_text_color: "Custom"
        text_color: 1, 0.8, 0, 1  # Auriu pentru valori
        halign: "right"
        valign: "center"


<PaginaStatistici>:
    name: 'statistici'

    # FUNDAL
    Video:
        source: "assets/dashboard_background1.mp4"
        state: "play"
        options: {'eos': 'loop'}
        allow_stretch: True
        keep_ratio: False
        size_hint: 1, 1
        volume: 0

    MDBoxLayout:
        md_bg_color: 0, 0, 0, 0.4
        size_hint: 1, 1

    # CONȚINUT PRINCIPAL
    MDBoxLayout:
        orientation: "vertical"
        spacing: "10dp"
        padding: "20dp"
        adaptive_height: True
        pos_hint: {"center_x": 0.5, "center_y": 0.45}

        # TITLU PAGINĂ
        MDLabel:
            text: "STATISTICI JUCATOR"
            halign: "center"
            font_name: "assets/RAVIE.TTF"
            font_size: "40sp"
            color: 1, 1, 1, 1
            size_hint_y: None
            height: "100dp"
            outline_color: 0, 0, 0, 0.5
            outline_width: 2

        # CARD CENTRAL CU DATELE
        MDCard:
            orientation: "vertical"
            size_hint: 0.9, None
            height: "450dp"
            pos_hint: {"center_x": 0.5}
            radius: [20, 20, 20, 20]
            md_bg_color: 0, 0, 0, 0.5 # Fundal semitransparent
            padding: "10dp"
            spacing: "10dp"

            # -- LISTA DE STATISTICI --

            # Nume
            RandStatistica:
                titlu: "NUME:"
                valoare: "-"
                # Legăm id-ul intern al label-ului de proprietatea globală a rândului
                on_valoare: self.ids.val_label.text = self.valoare
                # suprascriem id-ul în codul Python
                id: row_nume

            # Credite
            RandStatistica:
                titlu: "CREDITE:"
                valoare: "0"
                id: row_credite

            # Linie despărțitoare
            MDBoxLayout:
                size_hint_y: None
                height: "2dp"
                md_bg_color: 1, 1, 1, 0.3

            RandStatistica:
                titlu: "QUIZ-URI JUCATE:"
                valoare: "0"
                id: row_jucate

            RandStatistica:
                titlu: "QUIZ-URI REZOLVATE:"
                valoare: "0"
                id: row_rezolvate

            RandStatistica:
                titlu: "TIMP MEDIU:"
                valoare: "0.0 min"
                id: row_timp

            RandStatistica:
                titlu: "REGIUNI:"
                valoare: "0 / 10"
                id: row_regiuni

            RandStatistica:
                titlu: "PROGRES TOTAL:"
                valoare: "0%"
                id: row_progres

    ButonInapoi:
    ButonIesireComun: